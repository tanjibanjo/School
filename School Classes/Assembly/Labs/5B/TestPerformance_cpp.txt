//lane pollock
//15 oct 2025
//C++
//assembly lab - create a program in any language that will test the performance of the computer - I have chosen C++
//for this assignment, I tested on my Macbook and my powerful PC to compare

#include <iostream>
#include <chrono>

using namespace std;

//gets and returns current time
auto getCurrentTime() {
    return chrono::steady_clock::now();
}

//test function
void testFunction(){
    volatile int sum = 0;
    for(int i = 0; i < 1000000; ++i){
        sum+=1;
    }
}

//function to do a bunch of operations
void fibonacci(int n) {
    //inefficient fibonacci calculator

    //var
    int t1 = 0, t2 = 1, nextT = 0;

    if (n > 2) {
        //for numbers over 2, calculate the fibonacci
        for (int i = 2; i < n; i++) {
            nextT = t1 + t2;
            t1 = t2;
            t2 = nextT;
        }
    }
    else if (n == 1) {
        cout << 0;
    }
    else if (n == 2) {
        cout << 1;
    }
    else {
        cout << "nope\n";
    }
}

int main() {
    cout << "Entering Program\n\n";
    
    cout << "Testing the time it takes to calculate n item of Fibonacci sequence: 2000";

    //execute functions
    auto start = getCurrentTime();
    fibonacci(2000);
    auto end = getCurrentTime();

    cout << "\nTime passed in microseconds: " << chrono::duration_cast<chrono::microseconds>(end - start).count() << endl << endl;

    cout << "Testing the time it takes to calculate n item of Fibonacci sequence: 2000000";


    auto start2 = getCurrentTime();
    fibonacci(2000000);
    auto end2 = getCurrentTime();

    cout << "\nTime passed in microseconds: " << chrono::duration_cast<chrono::microseconds>(end2 - start2).count() << endl << endl;
    
    
    cout << "Measuring time of test funtion:\n";


    auto start3 = getCurrentTime();
    testFunction();
    auto end3 = getCurrentTime();

    cout << "\nTime passed in microseconds: " << chrono::duration_cast<chrono::microseconds>(end3 - start3).count() << endl << endl;
  
    
    return 0;

}
